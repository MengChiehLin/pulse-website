// Language translations
const translations = {
    'zh-TW': {
        'hero.title': '美國新聞即時通知，投資決策更精準',
        'hero.description': '想看美國新聞但又怕看不懂？PULSE 運用 AI 智能技術，幫您抓取即時國際新聞並提供精準中文摘要。即時數據幫您做即時決策，讓重要投資資訊不再錯過。',
        'hero.freetrial': '🎉 立即註冊！免費體驗限量重要新聞快訊',
        'cta.ios': 'iOS 下載',
        'cta.android': 'Android 下載',
        'features.title': '運作原理',
        'features.realtime.title': '即時監控',
        'features.realtime.desc': '24小時不間斷監控國際重要新聞，第一時間掌握市場動態。',
        'features.ai.title': 'AI 智能篩選',
        'features.ai.desc': 'AI 分析新聞重要性，自動翻譯並摘要，只推送真正重要的投資資訊。',
        'features.push.title': '即時推送通知',
        'features.push.desc': '重要新聞立即推送到您的手機，確保不錯過任何關鍵時刻。',
        'subscription.title': '訂閱方案',
        'subscription.free.name': '免費會員',
        'subscription.free.period': '/永久',
        'subscription.free.feature1': '無限瀏覽一般新聞 + 每日限量重要新聞',
        'subscription.free.feature2': 'AI 智能翻譯與摘要',
        'subscription.free.feature3': '基本新聞閱讀體驗',
        'subscription.free.feature4': '永久免費使用',
        'subscription.monthly.badge': '推薦方案',
        'subscription.monthly.name': '月付會員',
        'subscription.monthly.period': '/月',
        'subscription.monthly.feature1': 'AI 精選重要新聞快訊',
        'subscription.monthly.feature2': '完整 AI 智能摘要與翻譯',
        'subscription.monthly.feature3': '即時推送通知',
        'subscription.monthly.feature4': '多裝置同步支援',
        'subscription.monthly.feature5': '24/7 全天候新聞監控',
        'subscription.trial': '✨ 免費會員每日可閱讀限量重要新聞！',
        'subscription.note': '下載 App 後即可開始使用免費會員功能。升級月付會員享有無限制完整服務。',
        'about.title': '專業新聞智能服務',
        'about.text': 'PULSE 專為投資人士打造，結合尖端 AI 技術與即時新聞監控，精準篩選並推送對您投資決策至關重要的資訊。告別資訊焦慮，只接收真正重要的投資新聞。',
        'footer.tagline': '即時商業新聞快訊',
        'footer.legal': '法律條款',
        'footer.privacy': '隱私政策',
        'footer.terms': '服務條款',
        'footer.support': '支援',
        'footer.rights': '保留所有權利。'
    },
    'zh-CN': {
        'hero.title': '美国新闻即时通知，投资决策更精准',
        'hero.description': '想看美国新闻但又怕看不懂？PULSE 运用 AI 智能技术，帮您抓取即时国际新闻并提供精准中文摘要。即时数据帮您做即时决策，让重要投资资讯不再错过。',
        'hero.freetrial': '🎉 立即注册！免费体验限量重要新闻快讯',
        'cta.ios': 'iOS 下载',
        'cta.android': 'Android 下载',
        'features.title': '运作原理',
        'features.realtime.title': '即时监控',
        'features.realtime.desc': '24小时不间断监控国际重要新闻，第一时间掌握市场动态。',
        'features.ai.title': 'AI 智能筛选',
        'features.ai.desc': 'AI 分析新闻重要性，自动翻译并摘要，只推送真正重要的投资资讯。',
        'features.push.title': '即时推送通知',
        'features.push.desc': '重要新闻立即推送到您的手机，确保不错过任何关键时刻。',
        'subscription.title': '订阅方案',
        'subscription.free.name': '免费会员',
        'subscription.free.period': '/永久',
        'subscription.free.feature1': '无限浏览一般新闻 + 每日限量重要新闻',
        'subscription.free.feature2': 'AI 智能翻译与摘要',
        'subscription.free.feature3': '基本新闻阅读体验',
        'subscription.free.feature4': '永久免费使用',
        'subscription.monthly.badge': '推荐方案',
        'subscription.monthly.name': '月付会员',
        'subscription.monthly.period': '/月',
        'subscription.monthly.feature1': 'AI 精选重要新闻快讯',
        'subscription.monthly.feature2': '完整 AI 智能摘要与翻译',
        'subscription.monthly.feature3': '即时推送通知',
        'subscription.monthly.feature4': '多设备同步支持',
        'subscription.monthly.feature5': '24/7 全天候新闻监控',
        'subscription.trial': '✨ 免费会员每日可阅读限量重要新闻！',
        'subscription.note': '下载 App 后即可开始使用免费会员功能。升级月付会员享有无限制完整服务。',
        'about.title': '专业新闻智能服务',
        'about.text': 'PULSE 专为投资人士打造，结合尖端 AI 技术与即时新闻监控，精准筛选并推送对您投资决策至关重要的信息。告别信息焦虑，只接收真正重要的投资新闻。',
        'footer.tagline': '即时商业新闻快讯',
        'footer.legal': '法律条款',
        'footer.privacy': '隐私政策',
        'footer.terms': '服务条款',
        'footer.support': '支持',
        'footer.rights': '保留所有权利。'
    },
    'en': {
        'hero.title': 'Instant US News Notifications for Smarter Investment Decisions',
        'hero.description': 'Can\'t understand U.S. news? PULSE uses AI technology to deliver real-time international news with accurate translations. Get instant data for instant decisions, never miss critical investment information.',
        'hero.freetrial': '🎉 Sign Up Now! Free Access to Limited Important News',
        'cta.ios': 'Download for iOS',
        'cta.android': 'Download for Android',
        'features.title': 'How It Works',
        'features.realtime.title': 'Real-Time Monitoring',
        'features.realtime.desc': '24/7 monitoring of important international news, stay ahead of market trends.',
        'features.ai.title': 'AI-Powered Curation',
        'features.ai.desc': 'AI analyzes news importance, auto-translates and summarizes, delivering only critical investment information.',
        'features.push.title': 'Instant Push Notifications',
        'features.push.desc': 'Important news delivered instantly to your phone, never miss a critical moment.',
        'subscription.title': 'Subscription Plans',
        'subscription.free.name': 'Free Member',
        'subscription.free.period': '/forever',
        'subscription.free.feature1': 'Unlimited general news + daily limited important articles',
        'subscription.free.feature2': 'AI-powered translation & summaries',
        'subscription.free.feature3': 'Basic news reading experience',
        'subscription.free.feature4': 'Forever free access',
        'subscription.monthly.badge': 'Recommended',
        'subscription.monthly.name': 'Monthly Member',
        'subscription.monthly.period': '/month',
        'subscription.monthly.feature1': 'AI-curated critical news alerts',
        'subscription.monthly.feature2': 'Full AI-powered summaries & translation',
        'subscription.monthly.feature3': 'Real-time push notifications',
        'subscription.monthly.feature4': 'Multi-device sync support',
        'subscription.monthly.feature5': '24/7 news monitoring',
        'subscription.trial': '✨ Free members get daily limited access to important news!',
        'subscription.note': 'Download and start using free member features immediately. Upgrade to monthly membership for unlimited access.',
        'about.title': 'Professional News Intelligence',
        'about.text': 'PULSE is designed for investors, combining cutting-edge AI technology with real-time news monitoring to deliver precisely filtered information critical to your investment decisions. Say goodbye to information overload – receive only the investment news that matters.',
        'footer.tagline': 'Critical Business News Alerts',
        'footer.legal': 'Legal',
        'footer.privacy': 'Privacy Policy',
        'footer.terms': 'Terms of Service',
        'footer.support': 'Support',
        'footer.rights': 'All rights reserved.'
    }
};

// Get saved language or default to zh-TW
let currentLang = localStorage.getItem('selectedLanguage') || 'zh-TW';

// Apply translations
function applyTranslations(lang) {
    currentLang = lang;
    localStorage.setItem('selectedLanguage', lang);
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update active language button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });
    
    // Update page title and meta description
    if (lang === 'zh-TW') {
        document.title = 'PULSE - 即時商業新聞快訊';
        document.querySelector('meta[name="description"]').content = 'PULSE - AI智能新聞快訊，即時推送重要商業新聞到您的手機。想看美國新聞但又怕看不懂？PULSE幫你抓取即時國際新聞。';
    } else if (lang === 'zh-CN') {
        document.title = 'PULSE - 即时商业新闻快讯';
        document.querySelector('meta[name="description"]').content = 'PULSE - AI智能新闻快讯，即时推送重要商业新闻到您的手机。想看美国新闻但又怕看不懂？PULSE帮你抓取即时国际新闻。';
    } else {
        document.title = 'PULSE - Critical Business News Alerts';
        document.querySelector('meta[name="description"]').content = 'PULSE - AI-powered critical news alerts delivered directly to your mobile device. Real-time international business news with intelligent curation.';
    }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    // Apply saved or default language
    applyTranslations(currentLang);
    
    // Setup language switcher buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const lang = e.currentTarget.getAttribute('data-lang');
            applyTranslations(lang);
        });
    });
});